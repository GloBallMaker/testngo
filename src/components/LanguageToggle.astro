---
const { currentLang } = Astro.props;
---

<div class="fixed top-4 right-4 z-50">
  <select
    id="language-select"
    class="bg-black/50 text-white border border-cosmic-300/20 rounded-lg px-3 py-1 text-sm backdrop-blur-lg"
    value={currentLang}
  >
    <option value="en">English</option>
    <option value="uk">Українська</option>
  </select>
</div>

<script>
  const select = document.getElementById('language-select') as HTMLSelectElement;
  
  select.addEventListener('change', (e) => {
    const newLang = (e.target as HTMLSelectElement).value;
    const currentPath = window.location.pathname;
    
    if (newLang === 'en') {
      window.location.href = currentPath.replace('/uk', '');
    } else {
      window.location.href = `/uk${currentPath}`;
    }
  });

  // Set initial value based on current URL
  select.value = window.location.pathname.includes('/uk') ? 'uk' : 'en';
</script>